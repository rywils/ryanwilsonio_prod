---
import { ClientRouter } from 'astro:transitions';

import '../styles/globals.css';
const pageTitle = "Home Page";
import Navigation from '../components/Navigation.astro';
import ContentBarLeft from '../components/ui/ContentBarLeft.astro';
import ContentBarRight from '../components/ui/ContentBarRight.astro';
import Footer from '../components/Footer.astro'; 
import Banner from '../components/ui/Banner.astro';
---
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NGYM6LNFJM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NGYM6LNFJM');
</script>
    <meta charset="utf-8" />
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="stylesheet" type='text/css' href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{pageTitle}</title>
    <ClientRouter />

    <script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>
    
    <script is:inline>
      window.addEventListener('load', function() {
        function setNavPosition() {
          const banner = document.getElementById('site-banner');
          const nav = document.querySelector('.nav-container');
          
          if (nav && banner) {
            const bannerHeight = banner.offsetHeight;
            
            nav.style.top = bannerHeight + 'px';
          } else if (nav) {
            nav.style.top = '0px';
          }
        }
        
        setNavPosition();
        window.addEventListener('banner-closed', setNavPosition);
        window.addEventListener('resize', setNavPosition);
        document.addEventListener('astro:after-swap', setNavPosition);
      });
    </script>
  </head>
  
  <body class="bg-[#0a0a0a] overflow-x-hidden">
    <Banner 
      content="ðŸš§ This website is currently under construction. Some features may be incomplete or missing. ðŸš§" 
      bannerType="warning"
      persistDismissal={false}
    />
    
    <div id="documentContainer" class="max-w-2xl md:max-w-5xl h-full glow-primary-bg-blue mx-auto ">
      <ContentBarLeft/>
      <ContentBarRight/>
      <Navigation />
      <main id="main-content"> <!-- Added ID and main tag -->
        <slot />
      </main>
      <Footer/>
    </div>
  </body>
</html>
