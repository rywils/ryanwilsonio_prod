---
import LangBadge from './ui/LangBadge.astro';

interface Props {
  slug: string;
  title: string;
  description: string;
  image: string;
  tags: string[];
  index: number;
  category?: string[];
}

const {
  slug,
  title,
  description,
  image,
  tags,
  index,
  category = []
} = Astro.props;
---

<div
  class="project-card group relative rounded-xl overflow-hidden bg-card border border-[var(--primary-blue)]/20 hover:border-[var(--primary-green)]/50 transition-all hover:scale-[1.02] cursor-pointer flex flex-col h-full"
  data-project-slug={slug}
  data-category={JSON.stringify(category)}
  style={`--project-delay: ${0.1 + index * 0.1}s`}
>
<div class="relative overflow-hidden h-44 md:h-48 shrink-0">
    <img
      src={image}
      alt={title}
      class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
      loading="lazy"
    />
    <div class="absolute inset-0 bg-gradient-to-t from-background via-background/50 to-transparent opacity-60 group-hover:opacity-80 transition-opacity"></div>
  </div>

<div class="p-6 flex flex-col h-full">
  <h3 class="text-2xl mb-2 text-[var(--primary-blue)] group-hover:text-[var(--primary-green)] transition-colors font-semibold">
    {title}
  </h3>

  <p class="text-muted-foreground mb-4">
    {description}
  </p>

  <!-- Tags pinned to bottom -->
  <div class="mt-auto pt-4">
    <div class="flex flex-wrap gap-2">
      {tags.map(tag => (
        <LangBadge variant={tag as any} />
      ))}
    </div>
  </div>
</div>
</div>
