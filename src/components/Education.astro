---
import { GraduationCap, Award, Calendar } from '@lucide/astro';
   import fortinetIcon from '../assets/fortinet.png';
   import riverbedIcon from '../assets/riverbed.jpeg';
   import wguIcon from '../assets/wgu.png';
   import sansIcon from '../assets/sans.jpg'
   import dmaccIcon from '../assets/dmacc.jpg'; 
   import { Image } from 'astro:assets';

const education = [

  {
    degree: 'Bachelor of Applied Cybersecurity',
    institution: 'SANS Technical Institute',
    period: '2025 - Present',
    description: 'Expected graduation 2027',
    icon : sansIcon,
  },
  {
    degree: 'Associate of Applied Science in Information Technology Network Administration',
    institution: 'Des Moines Area Community College',
    period: '2014 - 2016',
    description: 'Linux emphasis',
    icon: dmaccIcon,
  },
];

 const certifications = [
     {
       name: 'Riverbed Certified Solutions Associate (RCSA) - WAN Optimization',
       issuer: 'Riverbed Technology',
       date: '2020',
       icon: riverbedIcon,
     },
   {
       name: 'Fortinet Network Security Expert (NSE) 3',
       issuer: 'Fortinet',
       date: '2019',
       icon: fortinetIcon,
     }
   ];
---

<section id="education" class="relative overflow-hidden py-12">

  <div class="max-w-5xl mx-auto relative z-10 education-container">
<h2 class="text-2xl sm:text-3xl font-semibold mb-6 text-(--primary-green)">Education</h2>
    <div class="grid md:grid-cols-2 gap-6 mb-12">
      {education.map((item, index) => (
        <div
          class="education-card p-6 rounded-xl bg-gradient-to-br from-(--primary-blue)/10 to-(--secondary-purple)/10 border border-(--primary-blue)/30 hover:border-(--primary-green)/30 flex gap-4 items-start h-full min-h-[220px] group"
          style={`--edu-delay: ${0.2 + index * 0.1}s`}
        >
          <div class="flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden border border-(--primary-blue)/40 group-hover:border-(--primary-green)/40 bg-transparent">
            <Image src={item.icon} alt={item.institution} width={64} height={64} class="w-full h-full object-cover" />
          </div>
          <div class="flex-1 flex flex-col justify-start">
            <h4 class="mb-1 font-semibold text-(--primary-blue) group-hover:text-(--primary-green)">{item.degree}</h4>
            <p class="text-sm text-muted-foreground">{item.institution}</p>
            <p class="text-xs text-muted-foreground mt-1">{item.period}</p>
            <p class="text-sm text-muted-foreground mt-2">{item.description}</p>
          </div>
        </div>
      ))}
    </div>

    <h2 class="text-2xl font-semibold mb-6 text-(--primary-green)">Certifications</h2>

    <div class="grid md:grid-cols-2 gap-6">
      {certifications.map((cert, index) => (
        <div
          class="certification-card p-6 rounded-xl bg-gradient-to-br from-(--primary-blue)/10 to-(--secondary-purple)/10 border border-(--primary-blue)/30 hover:border-(--primary-green)/30 flex gap-4 items-start h-full min-h-[180px] group"
          style={`--cert-delay: ${0.2 + index * 0.1}s`}
        >
          <div class="flex-shrink-0 w-12 h-12 rounded-lg overflow-hidden border border-(--primary-blue)/40 bg-transparent">
            <Image src={cert.icon} alt={cert.issuer} width={64} height={64} class="w-full h-full object-cover" />
          </div>
          <div class="flex-1 flex flex-col justify-start">
            <h4 class="mb-1 font-semibold text-(--primary-blue) group-hover:text-(--primary-green)">{cert.name}</h4>
            <p class="text-sm text-muted-foreground">{cert.issuer}</p>
            <p class="text-xs text-muted-foreground mt-1">{cert.date}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  if (typeof window !== 'undefined') {
    const observerOptions = {
      threshold: 0.2,
      rootMargin: '0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
          observer.unobserve(entry.target);
        }
      });
    }, observerOptions);

    function setupObserver() {
      const section = document.querySelector('#education .education-container');
      if (section) {
        observer.observe(section);
      }
    }

    document.addEventListener('DOMContentLoaded', setupObserver);
    document.addEventListener('astro:page-load', setupObserver);
  }
</script>
